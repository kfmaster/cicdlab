# Following configuration files will be generated: 
#
#   ${project_config_dir}/docker-compose.yml:  this is the main docker-compose file; 
#   ${project_config_dir}/nginx-proxy.conf:    this is the nginx reverse proxy config file; 
#   ${project_config_dir}/postinstall/S00setupContainer.sh:    this is a script to run after docker-compose up to initialize logins for Gerrit and Jenkins;
#   ${project_config_dir}/postinstall/S01importDemoProject.sh: this is a script to run after S00setupContainer.sh script to import a demo project;
#
# By default, the ${project_config_dir} is set to /etc/confd/output
#
# All postinstall scripts are optional, you can configure the applications through weburl or using your own scripts/API calls;
#
# All above configuration files will be generated by etcd and confd
# This myci.conf file contains key/value pairs which will be fed into etcdctl utilitity and stored in a coreos/etcd container
# Then the confd will be run to use these etcd key/value pairs to instantiate configuration files
# The confd templates are in /etc/confd/{templates,conf.d}
# The output directory for configuration files are defined in the /etc/confd/conf.d/*.toml files;
#
# Following is about the services defined in etcd:
#
# myci service is not a container, it holds global envrionment for this project
# datagerrit service belongs to a data conainter serving the gerrit container
# datajenkins service belongs to a  data conainter serving the jenkins container
# pggerrit service belongs to a postgres container serving the gerrit container
# gerrit service belongs to a gerrit container, the main Gerrit Code Review application
# jenkins service belongs to a jenkins container, the main Jenkins application
# pgredmine service belongs to a postgres container, serving the redmine container
# redmine service belongs to a redmine container, the main Redmine application
# nginxproxy service belongs to a nginx container, the reverse proxy for above applications
#
####################################################################################
###############    FOLLOWING MOST LIKELY NEED CHANGE     ###########################
####################################################################################
/services/myci/project_config_dir        ~/ci/config
/services/myci/project_data_dir          ~/ci/project_data
/services/datagerrit/image               kfmaster/datagerrit
/services/datajenkins/image              kfmaster/datajenkins
/services/gerrit/host_ip                 192.168.0.200
/services/gerrit/weburl                  http://192.168.0.200/gerrit
/services/gerrit/httpd_listenurl         proxy-http://*:8080/gerrit
/services/gerrit/ldap_server             192.168.0.250
/services/gerrit/ldap_accountbase        cn=users,cn=accounts,dc=example,dc=com
/services/gerrit/admin_email             gerrit@example.com
/services/gerrit/admin_uid               gerrit
/services/gerrit/admin_password          gerrit123
/services/gerrit/ssh_pubkey_file         ~/.ssh/id_rsa.pub
/services/jenkins/weburl                 http://192.168.0.200/jenkins
/services/redmine/weburl                 http://192.168.0.200/redmine
####################################################################################
###############    ABOVE MOST LIKELY NEED CHANGE         ###########################
####################################################################################
/services/datagerrit/name                datagerrit
/services/datajenkins/name               datajenkins
/services/pggerrit/image                 postgres
/services/pggerrit/name                  pg-gerrit
/services/pggerrit/postgres_user         gerrit2
/services/pggerrit/postgres_password     gerrit
/services/pggerrit/postgres_db           reviewdb
/services/gerrit/image                   openfrontier/gerrit
/services/gerrit/name                    gerrit
/services/gerrit/database_type           postgresql
/services/gerrit/auth_type               LDAP
/services/jenkins/image                  openfrontier/jenkins
/services/jenkins/name                   jenkins
/services/jenkins/opts                   /jenkins
/services/pgredmine/image                postgres
/services/pgredmine/name                 pg-redmine
/services/pgredmine/postgres_user        redmine
/services/pgredmine/postgres_password    redmine
/services/pgredmine/postgres_db          redmine
/services/redmine/image                  sameersbn/redmine
/services/redmine/name                   redmine
/services/redmine/db_name                redmine
/services/redmine/db_user                redmine
/services/redmine/db_pass                redmine
/services/redmine/fetch_commits          hourly
/services/redmine/relative_url_root      /redmine
/services/nginxproxy/image               nginx
/services/nginxproxy/name                nginx-proxy
/services/nginxproxy/proxy_mapping       nginx-proxy.conf:/etc/nginx/conf.d/proxy.conf:ro
